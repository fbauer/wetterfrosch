<!DOCTYPE html>

<html>
<head>
	
	<title>Temperature plotting example</title>

    <link class="include" rel="stylesheet" type="text/css" href="jquery.jqplot.min.css" />
  <!--[if lt IE 9]><script language="javascript" type="text/javascript" src="excanvas.min.js"></script><![endif]-->
    <script class="include" type="text/javascript" src="jquery.js"></script>
    
   
</head>
<body>
      
<div id="tchart" style="height:300px; width:500px;"></div>
  
<script class="code" type="text/javascript">
    $(document).ready(function(){
  // Our ajax data renderer which here retrieves a text file.
  // it could contact any source and pull data, however.
  // The options argument isn't used in this renderer.
    var ajaxDataRenderer = function(url, plot, options) {
      var ret = null;
	$.ajax({
	    // have to use synchronous here, else the function 
	    // will return before the data is fetched
	    async: false,
	    url: url,
	    dataType:"json",
	    success: function(data) {
		ret = jQuery.map(data, function(n, i) {
		    return([[i, n["temp"]]]);
		});
	    }
	});
	return [ret];
    };

  // The url for our json data
  var jsonurl = "./jsondata.txt";

  // passing in the url string as the jqPlot data argument is a handy
  // shortcut for our renderer.  You could also have used the
  // "dataRendererOptions" option to pass in the url.
  var plot2 = $.jqplot('tchart', jsonurl,{
    title: "Temperature",
    dataRenderer: ajaxDataRenderer,
    dataRendererOptions: {
      unusedOptionalUrl: jsonurl
    }
  });
});
</script>


    <script class="include" type="text/javascript" src="jquery.jqplot.js"></script>

<!-- End Don't touch this! -->

<!-- Additional plugins go here -->

   

<!-- End additional plugins -->



</body>


</html>
